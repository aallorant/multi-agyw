script: script.R

artefacts:
  - data:
      description: Multinomial smoothed district estimate results (single survey)
      filenames:
        - every-multinomial-smoothed-district-sexbehav.csv
  - data:
      description: Multinomial smoothed district estimate results (multiple survey)
      filenames:
        - every-all-dhs-multinomial-smoothed-district-sexbehav.csv

packages:
  - dplyr
  - forcats
  - ggplot2
  - INLA
  - naomi
  - readr
  - scales
  - sf
  - spdep
  - tidyr

depends:
  - aaa_fit_multi-sexbehav-sae:
      id: latest(parameter:iso3 == "BWA")
      use:
        depends/bwa_multinomial-smoothed-district-sexbehav.csv: multinomial-smoothed-district-sexbehav.csv
  - aaa_fit_multi-sexbehav-sae:
      id: latest(parameter:iso3 == "CMR")
      use:
        depends/cmr_multinomial-smoothed-district-sexbehav.csv: multinomial-smoothed-district-sexbehav.csv
  - aaa_fit_multi-sexbehav-sae:
      id: latest(parameter:iso3 == "KEN")
      use:
        depends/ken_multinomial-smoothed-district-sexbehav.csv: multinomial-smoothed-district-sexbehav.csv
  - aaa_fit_multi-sexbehav-sae:
      id: latest(parameter:iso3 == "LSO")
      use:
        depends/lso_multinomial-smoothed-district-sexbehav.csv: multinomial-smoothed-district-sexbehav.csv
  - aaa_fit_multi-sexbehav-sae:
      id: latest(parameter:iso3 == "MOZ")
      use:
        depends/moz_multinomial-smoothed-district-sexbehav.csv: multinomial-smoothed-district-sexbehav.csv
  - aaa_fit_multi-sexbehav-sae:
      id: latest(parameter:iso3 == "MWI")
      use:
        depends/mwi_multinomial-smoothed-district-sexbehav.csv: multinomial-smoothed-district-sexbehav.csv
  - aaa_fit_multi-sexbehav-sae:
      id: latest(parameter:iso3 == "NAM")
      use:
        depends/nam_multinomial-smoothed-district-sexbehav.csv: multinomial-smoothed-district-sexbehav.csv
  - aaa_fit_multi-sexbehav-sae:
      id: latest(parameter:iso3 == "SWZ")
      use:
        depends/swz_multinomial-smoothed-district-sexbehav.csv: multinomial-smoothed-district-sexbehav.csv
  - aaa_fit_multi-sexbehav-sae:
      id: latest(parameter:iso3 == "TZA")
      use:
        depends/tza_multinomial-smoothed-district-sexbehav.csv: multinomial-smoothed-district-sexbehav.csv
  - aaa_fit_multi-sexbehav-sae:
      id: latest(parameter:iso3 == "UGA")
      use:
        depends/uga_multinomial-smoothed-district-sexbehav.csv: multinomial-smoothed-district-sexbehav.csv
  - aaa_fit_multi-sexbehav-sae:
      id: latest(parameter:iso3 == "ZAF")
      use:
        depends/zaf_multinomial-smoothed-district-sexbehav.csv: multinomial-smoothed-district-sexbehav.csv
  - aaa_fit_multi-sexbehav-sae:
      id: latest(parameter:iso3 == "ZMB")
      use:
        depends/zmb_multinomial-smoothed-district-sexbehav.csv: multinomial-smoothed-district-sexbehav.csv
  - aaa_fit_multi-sexbehav-sae:
      id: latest(parameter:iso3 == "ZWE")
      use:
        depends/zwe_multinomial-smoothed-district-sexbehav.csv: multinomial-smoothed-district-sexbehav.csv
  # - aaa_fit_all-dhs-multi-sexbehav-sae:
  #     id: latest(parameter:iso3 == "BWA")
  #     use:
  #       depends/bwa_all-dhs-multinomial-smoothed-district-sexbehav.csv: multinomial-smoothed-district-sexbehav.csv
  - aaa_fit_all-dhs-multi-sexbehav-sae:
      id: latest(parameter:iso3 == "CMR")
      use:
        depends/cmr_all-dhs-multinomial-smoothed-district-sexbehav.csv: multinomial-smoothed-district-sexbehav.csv
  # - aaa_fit_all-dhs-multi-sexbehav-sae:
  #     id: latest(parameter:iso3 == "KEN")
  #     use:
  #       depends/ken_all-dhs-multinomial-smoothed-district-sexbehav.csv: multinomial-smoothed-district-sexbehav.csv
  # - aaa_fit_all-dhs-multi-sexbehav-sae:
  #     id: latest(parameter:iso3 == "LSO")
  #     use:
  #       depends/lso_all-dhs-multinomial-smoothed-district-sexbehav.csv: multinomial-smoothed-district-sexbehav.csv
  - aaa_fit_all-dhs-multi-sexbehav-sae:
      id: latest(parameter:iso3 == "MOZ")
      use:
        depends/moz_all-dhs-multinomial-smoothed-district-sexbehav.csv: multinomial-smoothed-district-sexbehav.csv
  - aaa_fit_all-dhs-multi-sexbehav-sae:
      id: latest(parameter:iso3 == "MWI")
      use:
        depends/mwi_all-dhs-multinomial-smoothed-district-sexbehav.csv: multinomial-smoothed-district-sexbehav.csv
  # - aaa_fit_all-dhs-multi-sexbehav-sae:
  #     id: latest(parameter:iso3 == "NAM")
  #     use:
  #       depends/nam_all-dhs-multinomial-smoothed-district-sexbehav.csv: multinomial-smoothed-district-sexbehav.csv
  # - aaa_fit_all-dhs-multi-sexbehav-sae:
  #     id: latest(parameter:iso3 == "SWZ")
  #     use:
  #       depends/swz_all-dhs-multinomial-smoothed-district-sexbehav.csv: multinomial-smoothed-district-sexbehav.csv
  # - aaa_fit_all-dhs-multi-sexbehav-sae:
  #     id: latest(parameter:iso3 == "TZA")
  #     use:
  #       depends/tza_all-dhs-multinomial-smoothed-district-sexbehav.csv: multinomial-smoothed-district-sexbehav.csv
  # - aaa_fit_all-dhs-multi-sexbehav-sae:
  #     id: latest(parameter:iso3 == "UGA")
  #     use:
  #       depends/uga_all-dhs-multinomial-smoothed-district-sexbehav.csv: multinomial-smoothed-district-sexbehav.csv
  # - aaa_fit_all-dhs-multi-sexbehav-sae:
  #     id: latest(parameter:iso3 == "ZAF")
  #     use:
  #       depends/zaf_all-dhs-multinomial-smoothed-district-sexbehav.csv: multinomial-smoothed-district-sexbehav.csv
  - aaa_fit_all-dhs-multi-sexbehav-sae:
      id: latest(parameter:iso3 == "ZMB")
      use:
        depends/zmb_all-dhs-multinomial-smoothed-district-sexbehav.csv: multinomial-smoothed-district-sexbehav.csv
  - aaa_fit_all-dhs-multi-sexbehav-sae:
      id: latest(parameter:iso3 == "ZWE")
      use:
        depends/zwe_all-dhs-multinomial-smoothed-district-sexbehav.csv: multinomial-smoothed-district-sexbehav.csv
